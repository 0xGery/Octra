const _0x597a33=_0xf850;(function(_0x3bd46e,_0x546af7){const _0x4c030f=_0xf850,_0x216a42=_0x3bd46e();while(!![]){try{const _0x2211ed=-parseInt(_0x4c030f(0x198))/0x1*(-parseInt(_0x4c030f(0x1b0))/0x2)+parseInt(_0x4c030f(0x19a))/0x3+parseInt(_0x4c030f(0x1c5))/0x4*(parseInt(_0x4c030f(0x1ad))/0x5)+-parseInt(_0x4c030f(0x1a6))/0x6+-parseInt(_0x4c030f(0x1de))/0x7*(parseInt(_0x4c030f(0x1d4))/0x8)+parseInt(_0x4c030f(0x1cc))/0x9*(-parseInt(_0x4c030f(0x1cb))/0xa)+-parseInt(_0x4c030f(0x1da))/0xb;if(_0x2211ed===_0x546af7)break;else _0x216a42['push'](_0x216a42['shift']());}catch(_0x46018e){_0x216a42['push'](_0x216a42['shift']());}}}(_0x5790,0xd1e00));function _0xf850(_0x59bcb8,_0x22085f){const _0x5790a5=_0x5790();return _0xf850=function(_0xf8502,_0x1df570){_0xf8502=_0xf8502-0x194;let _0x473e0a=_0x5790a5[_0xf8502];return _0x473e0a;},_0xf850(_0x59bcb8,_0x22085f);}function _0x5790(){const _0x544ba3=['map','getPublicKey','balanceCache','\x20OCT,\x20have\x20','getNetworkStatus','network','Amount\x20must\x20be\x20positive','744120BxxLJP','nonceCache','isReady','Failed\x20to\x20get\x20wallet\x20status','OctraWallet','signTransaction','9172490NyvJHT','9DkXyuX','Invalid\x20private\x20key','transactionCache','generateKeyPair','cacheTime','result','toFixed','crypto','1556272GLvlQd','length','retryAttempts','calculateFee','Invalid\x20address:\x20','setPrivateKey','3285249VqBpnp','nonce','createTransaction','Invalid\x20address\x20format','7rdJTms','Failed\x20to\x20fetch\x20balance\x20-\x20null\x20response','getRpcUrl','setRpcUrl','failed','status','77zizAfQ','now','3782460TPZQAe','includes','Wallet\x20not\x20initialized','success','duplicate','generateWallet','verifyAddressFormat','max','address','initialize','push','getBalanceAndNonce','9275778ZQLNvp','sendMultipleTransactions','public_key','message','extra','clearCache','Invalid\x20recipient\x20address','30KQYfav','Failed\x20to\x20generate\x20key\x20pair','getBalance','37378lBikMP','\x20OCT','sendTransaction','getPrivateKey','cacheTTL','toLowerCase','Invalid\x20amount:\x20','string','Insufficient\x20balance.\x20Need\x20','isValidAddress','exportWallet','signature','clear',':\x20Failed\x20to\x20sign\x20transaction'];_0x5790=function(){return _0x544ba3;};return _0x5790();}class OctraWallet{constructor(){const _0x16e388=_0xf850;this['crypto']=new CryptoManager(),this['network']=new NetworkClient(),this[_0x16e388(0x1a2)]=null,this[_0x16e388(0x1c0)]=null,this[_0x16e388(0x1c6)]=null,this['transactionCache']=[],this[_0x16e388(0x1d0)]=0x0,this[_0x16e388(0x1b4)]=0x7530;}[_0x597a33(0x1a3)](_0x329c10,_0x5279b0){const _0x47ec02=_0x597a33;if(!_0x329c10)return![];if(!_0x5279b0)return![];if(typeof _0x329c10!==_0x47ec02(0x1b7))return![];if(typeof _0x5279b0!==_0x47ec02(0x1b7))return![];try{if(!this[_0x47ec02(0x1d3)][_0x47ec02(0x1d9)](_0x329c10))throw new Error(_0x47ec02(0x1cd));if(!this['crypto'][_0x47ec02(0x1a0)](_0x5279b0))throw new Error(_0x47ec02(0x1dd));return this['address']=_0x5279b0,this[_0x47ec02(0x1ab)](),!![];}catch(_0x53f29c){return this['clear'](),![];}}async[_0x597a33(0x19f)](){const _0x5be1bc=_0x597a33,_0x267987=Date[_0x5be1bc(0x199)]();try{const _0x50d4b4=await this[_0x5be1bc(0x1d3)][_0x5be1bc(0x1cf)]();if(!_0x50d4b4)throw new Error(_0x5be1bc(0x1ae));this[_0x5be1bc(0x1a2)]=_0x50d4b4[_0x5be1bc(0x1a2)],this[_0x5be1bc(0x1ab)]();const _0x2189ba=Date[_0x5be1bc(0x199)]();return _0x50d4b4;}catch(_0x2906f2){return null;}}async['getBalanceAndNonce'](_0x2b759c=![]){const _0x56eb43=_0x597a33;if(!this['address']){const _0x37cff3=new Error(_0x56eb43(0x19c));throw _0x37cff3;}const _0x4fd7b6=Date[_0x56eb43(0x199)]();if(!_0x2b759c&&this[_0x56eb43(0x1c0)]!==null&&this['nonceCache']!==null&&_0x4fd7b6-this['cacheTime']<this[_0x56eb43(0x1b4)])return{'balance':this['balanceCache'],'nonce':this[_0x56eb43(0x1c6)]};try{const _0x230b73=await this[_0x56eb43(0x1c3)][_0x56eb43(0x1af)](this['address']);if(_0x230b73['balance']!==null&&_0x230b73['nonce']!==null){const _0x1342a3=await this[_0x56eb43(0x1c3)]['getStagingTransactions'](this[_0x56eb43(0x1a2)]);let _0xa2258d=_0x230b73[_0x56eb43(0x1db)];if(_0x1342a3[_0x56eb43(0x1d5)]>0x0){const _0x36ed30=Math['max'](..._0x1342a3[_0x56eb43(0x1be)](_0x3e3b08=>_0x3e3b08['nonce']||0x0));_0xa2258d=Math[_0x56eb43(0x1a1)](_0xa2258d,_0x36ed30);}return this[_0x56eb43(0x1c0)]=_0x230b73['balance'],this[_0x56eb43(0x1c6)]=_0xa2258d,this[_0x56eb43(0x1d0)]=_0x4fd7b6,{'balance':_0x230b73['balance'],'nonce':_0xa2258d,'retryAttempts':_0x230b73[_0x56eb43(0x1d6)]||0x0};}const _0x110c20=_0x230b73['error']||_0x56eb43(0x1df),_0x4884ea=new Error(_0x110c20);_0x4884ea[_0x56eb43(0x1d6)]=_0x230b73['retryAttempts']||0x0;throw _0x4884ea;}catch(_0x2fa5e9){return{'balance':null,'nonce':null};}}async['getTransactionHistory'](_0x4fe9fb=![]){const _0x16c3ec=_0x597a33;if(!this[_0x16c3ec(0x1a2)])throw new Error('Wallet\x20not\x20initialized');const _0x2946d4=Date[_0x16c3ec(0x199)]();if(!_0x4fe9fb&&this[_0x16c3ec(0x1ce)]['length']>0x0&&_0x2946d4-this[_0x16c3ec(0x1d0)]<this[_0x16c3ec(0x1b4)])return this[_0x16c3ec(0x1ce)];try{const _0x5c8953=await this['network']['getTransactionHistory'](this[_0x16c3ec(0x1a2)]);return this[_0x16c3ec(0x1ce)]=_0x5c8953,this[_0x16c3ec(0x1d0)]=_0x2946d4,_0x5c8953;}catch(_0x4ed69b){return[];}}async[_0x597a33(0x1b2)](_0x189d5c,_0x2807c9,_0x2894be=null){const _0x137b67=_0x597a33;if(!this[_0x137b67(0x1a2)]||!this[_0x137b67(0x1d3)][_0x137b67(0x1c7)]())throw new Error(_0x137b67(0x19c));try{if(!this[_0x137b67(0x1c3)][_0x137b67(0x1b9)](_0x189d5c))return{'success':![],'result':_0x137b67(0x1ac)};if(_0x2807c9<=0x0)return{'success':![],'result':_0x137b67(0x1c4)};const {balance:_0x3a2dea,nonce:_0x551d70}=await this['getBalanceAndNonce'](!![]);if(_0x3a2dea===null||_0x551d70===null)return{'success':![],'result':'Failed\x20to\x20get\x20wallet\x20status'};const _0x426258=this['network'][_0x137b67(0x1d7)](_0x2807c9),_0x22dbdc=_0x2807c9+_0x426258;if(_0x3a2dea<_0x22dbdc)return{'success':![],'result':'Insufficient\x20balance.\x20Need\x20'+_0x22dbdc['toFixed'](0x6)+_0x137b67(0x1c1)+_0x3a2dea[_0x137b67(0x1d2)](0x6)+'\x20OCT'};const _0x10cafe=this['network'][_0x137b67(0x1dc)](this[_0x137b67(0x1a2)],_0x189d5c,_0x2807c9,_0x551d70+0x1,_0x2894be),_0x2ed746=this['crypto'][_0x137b67(0x1ca)](_0x10cafe);if(!_0x2ed746)return{'success':![],'result':'Failed\x20to\x20sign\x20transaction'};_0x10cafe['signature']=_0x2ed746[_0x137b67(0x1bb)],_0x10cafe[_0x137b67(0x1a8)]=this[_0x137b67(0x1d3)][_0x137b67(0x1bf)]();const _0x35150d=await this[_0x137b67(0x1c3)][_0x137b67(0x1b2)](_0x10cafe);if(_0x35150d[_0x137b67(0x19d)])return this[_0x137b67(0x1ab)](),_0x35150d;else{if(_0x35150d[_0x137b67(0x1d1)]&&_0x35150d[_0x137b67(0x1d1)][_0x137b67(0x1b5)]()[_0x137b67(0x19b)](_0x137b67(0x19e))||_0x35150d['extra']&&_0x35150d[_0x137b67(0x1aa)][_0x137b67(0x197)]===0x199){this['clearCache']();const {balance:_0x3c1c51,nonce:_0x169afc}=await this[_0x137b67(0x1a5)](!![]);if(_0x3c1c51!==null&&_0x169afc!==null&&_0x3c1c51>=_0x22dbdc){const _0x3a71d3=this[_0x137b67(0x1c3)][_0x137b67(0x1dc)](this[_0x137b67(0x1a2)],_0x189d5c,_0x2807c9,_0x169afc+0x1,_0x2894be),_0x18e59e=this[_0x137b67(0x1d3)]['signTransaction'](_0x3a71d3);if(_0x18e59e){_0x3a71d3[_0x137b67(0x1bb)]=_0x18e59e[_0x137b67(0x1bb)],_0x3a71d3[_0x137b67(0x1a8)]=this[_0x137b67(0x1d3)][_0x137b67(0x1bf)]();const _0x4c8ae0=await this['network'][_0x137b67(0x1b2)](_0x3a71d3);return _0x4c8ae0['success']&&this[_0x137b67(0x1ab)](),_0x4c8ae0;}}}return this[_0x137b67(0x1ab)](),_0x35150d;}}catch(_0xc71a42){return{'success':![],'result':_0xc71a42[_0x137b67(0x1a9)]};}}async[_0x597a33(0x1a7)](_0x34f55a){const _0x4633a2=_0x597a33;if(!this[_0x4633a2(0x1a2)]||!this['crypto'][_0x4633a2(0x1c7)]())throw new Error(_0x4633a2(0x19c));const _0x21af62={'success':[],'failed':[]};try{let _0x239751=0x0;for(const {address:_0x15e18a,amount:_0x12b3d6}of _0x34f55a){if(!this[_0x4633a2(0x1c3)][_0x4633a2(0x1b9)](_0x15e18a))return _0x21af62['failed'][_0x4633a2(0x1a4)](_0x4633a2(0x1d8)+_0x15e18a),_0x21af62;if(_0x12b3d6<=0x0)return _0x21af62['failed']['push'](_0x4633a2(0x1b6)+_0x12b3d6),_0x21af62;_0x239751+=_0x12b3d6+this[_0x4633a2(0x1c3)]['calculateFee'](_0x12b3d6);}const {balance:_0x50d34b,nonce:_0x2ed58d}=await this[_0x4633a2(0x1a5)](!![]);if(_0x50d34b===null||_0x2ed58d===null)return _0x21af62[_0x4633a2(0x196)]['push'](_0x4633a2(0x1c8)),_0x21af62;if(_0x50d34b<_0x239751)return _0x21af62['failed'][_0x4633a2(0x1a4)](_0x4633a2(0x1b8)+_0x239751[_0x4633a2(0x1d2)](0x6)+_0x4633a2(0x1c1)+_0x50d34b[_0x4633a2(0x1d2)](0x6)+_0x4633a2(0x1b1)),_0x21af62;let _0x10af76=_0x2ed58d;for(const {address:_0xfd548,amount:_0x3b2c29,message:_0x453450}of _0x34f55a){_0x10af76+=0x1;try{const _0x32ed0f=this[_0x4633a2(0x1c3)][_0x4633a2(0x1dc)](this[_0x4633a2(0x1a2)],_0xfd548,_0x3b2c29,_0x10af76,_0x453450),_0x17bbca=this[_0x4633a2(0x1d3)]['signTransaction'](_0x32ed0f);if(!_0x17bbca){_0x21af62[_0x4633a2(0x196)][_0x4633a2(0x1a4)](_0xfd548+_0x4633a2(0x1bd));continue;}_0x32ed0f[_0x4633a2(0x1bb)]=_0x17bbca[_0x4633a2(0x1bb)],_0x32ed0f[_0x4633a2(0x1a8)]=this[_0x4633a2(0x1d3)][_0x4633a2(0x1bf)]();const _0x3172f0=await this[_0x4633a2(0x1c3)][_0x4633a2(0x1b2)](_0x32ed0f);_0x3172f0[_0x4633a2(0x19d)]?_0x21af62[_0x4633a2(0x19d)]['push'](_0xfd548+':\x20'+_0x3172f0[_0x4633a2(0x1d1)]):_0x21af62[_0x4633a2(0x196)][_0x4633a2(0x1a4)](_0xfd548+':\x20'+_0x3172f0['result']);}catch(_0x51ca57){_0x21af62[_0x4633a2(0x196)][_0x4633a2(0x1a4)](_0xfd548+':\x20'+_0x51ca57[_0x4633a2(0x1a9)]);}}return this[_0x4633a2(0x1ab)](),_0x21af62;}catch(_0x16c9c0){return _0x21af62[_0x4633a2(0x196)][_0x4633a2(0x1a4)](_0x16c9c0[_0x4633a2(0x1a9)]),_0x21af62;}}['getAddress'](){const _0x2022ec=_0x597a33;return this[_0x2022ec(0x1a2)];}['getPublicKey'](){const _0x113210=_0x597a33;return this[_0x113210(0x1d3)]['getPublicKey']();}[_0x597a33(0x1b3)](){const _0x413ed0=_0x597a33;return this[_0x413ed0(0x1d3)][_0x413ed0(0x1b3)]();}[_0x597a33(0x1ba)](){const _0x563ab7=_0x597a33;if(!this[_0x563ab7(0x1a2)]||!this[_0x563ab7(0x1d3)]['isReady']())throw new Error(_0x563ab7(0x19c));return{'privateKey':this[_0x563ab7(0x1d3)][_0x563ab7(0x1b3)](),'publicKey':this[_0x563ab7(0x1d3)][_0x563ab7(0x1bf)](),'address':this[_0x563ab7(0x1a2)],'timestamp':Date[_0x563ab7(0x199)]()};}[_0x597a33(0x1c7)](){const _0xe71003=_0x597a33;return this['address']!==null&&this[_0xe71003(0x1d3)]['isReady']();}[_0x597a33(0x1ab)](){const _0x3b209a=_0x597a33;this['balanceCache']=null,this[_0x3b209a(0x1c6)]=null,this[_0x3b209a(0x1ce)]=[],this['cacheTime']=0x0;}['clear'](){const _0x49c696=_0x597a33;this[_0x49c696(0x1d3)][_0x49c696(0x1bc)](),this[_0x49c696(0x1a2)]=null,this[_0x49c696(0x1ab)]();}[_0x597a33(0x195)](_0x1cd8da){const _0x588450=_0x597a33;this[_0x588450(0x1c3)][_0x588450(0x195)](_0x1cd8da),this[_0x588450(0x1ab)]();}[_0x597a33(0x194)](){const _0xc0289c=_0x597a33;return this['network'][_0xc0289c(0x194)]();}async[_0x597a33(0x1c2)](){const _0x17a398=_0x597a33;return await this[_0x17a398(0x1c3)][_0x17a398(0x1c2)]();}['isValidAddress'](_0x163c7a){const _0x3ee024=_0x597a33;return this['network'][_0x3ee024(0x1b9)](_0x163c7a);}}window[_0x597a33(0x1c9)]=OctraWallet;